# Database Seeding

Arquebus and by extension H3ravel supports database seeding with data using seeder classes. In H3ravel All seeder classes are stored in the `src/database/seeders` directory and by default, a `DatabaseSeeder` class has been defined for you. From this class, you may use the `call` method to run other seeder classes, allowing you to control the seeding order.
This is a little bit different when using Arquebus directly as you have more control over where seeder classes will be stored. You should set the directory where you want seeder classes to be stored in the `seeders` property of the `arquebus.config.[ts|js]` file, by default seeders will be stored in the `seeders` directory as you can see in the config.

**arquebus.config.ts**

```ts
export default defineConfig({
  ...
  seeders: {
    path: './seeders',
  },
  ...
});
```

## Writing Seeders

To generate a seeder, call the `make:seeder` Musket or Arquebus CLI command. All seeders generated by H3ravel will be placed in the `src/database/seeders` directory and in your configured directory (Default: `migrations`) when generated with the `arquebus` CLI:

::: code-group

```sh [musket]
$ npx musket make:seeder UserSeeder
```

```sh [arquebus]
$ npx arquebus make:seeder UserSeeder
```

:::

A seeder class only contains one method by default: `run`. This method is called when the `db:seed` Musket or Arquebus CLI command is called. Within the `run` method, you may insert data into your database however you wish. You may use the query builder to manually insert data [or you may use Arquebus model factories - WIP].

Let's modify the default `DatabaseSeeder` class and add a database insert statement to the run method (H3ravel):

```ts
import type { QueryBuilder } from '@h3ravel/arquebus';
import { DB, Seeder } from '@h3ravel/arquebus';

export default class DatabaseSeeder extends Seeder {
  /**
   * Run the database seeds.
   */
  async run() {
    await DB.table('users').insert({
      name: 'John Does',
      email: 'dj@x.com',
      password: 'password',
    });
  }
}
```

Seeders execute with the same connection setup as migrations. The CLI resolves paths from `--basePath` and `--path` and loads seeders from `.ts`/`.js` files exporting a default class with a `run` method.
